---
import Layout from '../layouts/Layout.astro';
import { Icon } from 'astro-icon/components';

const colores = ["ğŸŸ¥ Rojo", "ğŸŸ© Verde", "â¬œ Blanco", "ğŸŸ¨ Amarillo", "ğŸŸ¦ Azul"];
const nacionalidades = ["ğŸ‡¬ğŸ‡§ BritÃ¡nico", "ğŸ‡¸ğŸ‡ª Sueco", "ğŸ‡©ğŸ‡° DanÃ©s", "ğŸ‡³ğŸ‡´ Noruego", "ğŸ‡©ğŸ‡ª AlemÃ¡n"];
const bebidas = ["ğŸ’§ Agua", "ğŸ«– TÃ©", "ğŸ¥› Leche", "ğŸº Cerveza", "â˜• CafÃ©"];
const mascotas = ["ğŸˆ Gato", "ğŸ• Perro", "ğŸ¦â€â¬› PÃ¡jaro", "ğŸŸ Pez", "ğŸ Caballo"];
const cigarros = ["ğŸ¬ Pall Mall", "ğŸš¬ Dunhill", "ğŸ”¹ Blue Master", "ğŸ¤´ Prince", "â™¾ï¸ Blends"];

const pistas = [
	"El britÃ¡nico vive en la casa roja." ,
	"El sueco tiene un perro como mascota." ,
	"El danÃ©s toma tÃ©." ,
	"El noruego vive en la primera casa." ,
	"El alemÃ¡n fuma Prince." ,
	"La casa verde estÃ¡ inmediatamente a la izquierda de la blanca." ,
	"El dueÃ±o de la casa verde bebe cafÃ©." ,
	"El propietario que fuma Pall Mall crÃ­a pÃ¡jaros." ,
	"El dueÃ±o de la casa amarilla fuma Dunhill." ,
	"El hombre que vive en la casa del centro bebe leche." ,
	"El vecino que fuma Blends vive al lado del que tiene un gato." ,
	"El hombre que tiene un caballo vive al lado del que fuma Dunhill." ,
	"El propietario que fuma Bluemaster toma cerveza." ,
	"El vecino que fuma Blends viveal lado del que toma agua." ,
	"El noruego vive al lado de la casa azul."
];

let VALORES = [
	{color: "", nacionalidad: "", bebida: "", mascota: "", cigarro:""},
	{color: "", nacionalidad: "", bebida: "", mascota: "", cigarro:""},
	{color: "", nacionalidad: "", bebida: "", mascota: "", cigarro:""},
	{color: "", nacionalidad: "", bebida: "", mascota: "", cigarro:""},
	{color: "", nacionalidad: "", bebida: "", mascota: "", cigarro:""}
];


---

<Layout>
	<section class="my-10">
		<div class="flex flex-col items-center justify-center text-center w-full max-w-xl mx-auto border border-gray-300 rounded-lg p-10 gap-6 py-6 bg-gray-50 shadow-xl">
			<h1 class="font-bold text-4xl">ACERTIJO DE EINSTEIN</h1>
			<h4 class="font-semibold text-xl">Â¿ SerÃ¡s Capaz de resolverlo ?</h4>
		</div>
	</section>

	<section class="my-10">
		<div class="flex flex-col items-center justify-center text-center w-full max-w-4xl mx-auto border border-gray-300 rounded-lg p-10 gap-6 py-6 bg-gray-50 shadow-xl">
			<h1 class="font-bold text-2xl">Â¿ Como Resolverlo ?</h1>
			<p> Para resolverlo, tendrÃ¡s 15 pistas, cada una de ellas te darÃ¡ una relaciÃ³n que se debe cumplir. Al finalizar todas ellas deberÃ¡s tener informaciÃ³n suficiente para resolver el acertijo</p>
		</div>
	</section>

	<section class="my-10">
		<div class="flex flex-col items-center justify-center text-center w-full max-w-4xl mx-auto border border-gray-300 rounded-lg p-10 gap-6 py-6 bg-gray-50 shadow-xl">
			<h1 class="font-bold text-2xl">PISTAS</h1>
			<div class="text-left w-full">
				{pistas.map((pista, posicion) => (
					<div class="flex items-center gap-8 my-2" id={`pista-${posicion}`}>
						<button
							id= {`boton-pista-${posicion}`}
							type="button"
							class="w-10 px-2 py-1 border border-gray-400 rounded bg-green-300 hover:bg-green-400 hover:scale-105 transition duration-150"
							onclick={`togglePista(${posicion})`}
						>
							<p id={`estado-${posicion}`}>âœ“</p>
						</button>
						<p id={`texto-pista-${posicion}`} class="text-left font-normal text-lg hover:scale-105 transition duration-150">
							{posicion + 1}. {pista}
						</p>
					</div>
				))}
			</div>
		</div>
	</section>

	<section class="my-10">
		<div class="flex flex-row gap-3 w-full items-center justify-between max-w-4xl mx-auto mb-6">
			<div class="flex flex-col border border-gray-300 p-5 rounded-xl text-center gap-2 shadow-lg">
				<h3 class="text-xl font-bold">Colores</h3>
				<ul>
					{
						colores.map((color, posicion) => (
							<li class="hover:scale-130 transition duration-150 hover:text-green-900">{`${color}`}</li>
						))
					}
				</ul>
			</div>
			<div class="flex flex-col border border-gray-300 p-5 rounded-xl text-center gap-2 shadow-lg">
				<h3 class="text-xl font-bold">Nacionalidades</h3>
				<ul>
					{
						nacionalidades.map((nacionalidad, posicion) => (
							<li class="hover:scale-130 transition duration-150 hover:text-green-900">{`${nacionalidad}`}</li>
						))
					}
				</ul>
			</div>
			<div class="flex flex-col border border-gray-300 p-5 rounded-xl text-center gap-2 shadow-lg">
				<h3 class="text-xl font-bold">Mascotas</h3>
				<ul>
					{
						mascotas.map((mascota, posicion) => (
							<li class="hover:scale-130 transition duration-150 hover:text-green-900">{`${mascota}`}</li>
						))
					}
				</ul>
			</div>
			<div class="flex flex-col border border-gray-300 p-5 rounded-xl text-center gap-2 shadow-lg">
				<h3 class="text-xl font-bold">Bebidas</h3>
				<ul class="">
					{
						bebidas.map((bebida, posicion) => (
							<li class="hover:scale-130 transition duration-150 hover:text-green-900">{`${bebida}`}</li>
						))
					}
				</ul>
			</div>
			<div class="flex flex-col border border-gray-300 p-5 rounded-xl text-center gap-2 shadow-lg">
				<h3 class="text-xl font-bold">Cigarros</h3>
				<ul>
					{
						cigarros.map((cigarro, posicion) => (
							<li class="hover:scale-130 transition duration-150 hover:text-green-900">{`${cigarro}`}</li>
						))
					}
				</ul>
			</div>
		</div>
	</section>

	<section class="my-10 pb-20">
		<div class="flex flex-col items-center justify-center text-center w-full max-w-4xl mx-auto border border-gray-300 rounded-lg p-10 gap-6 py-6 bg-gray-200 shadow-xl">
			<h1 class="font-bold text-2xl">Zona Interactiva</h1>
			<p>Realiza pruebas para poder decidir quien es el dueÃ±o del pez</p>
			<div class="flex flex-row justify-between w-full mx-auto">
				{
					VALORES.map((casa, index) => (
						<div class={`flex flex-col p-5 rounded-xl border border-gray-400 ${
							casa.color === "ğŸŸ¥ Rojo" ? "bg-red-300" : 
							casa.color === "ğŸŸ© Verde" ? "bg-green-300" : 
							casa.color === "â¬œ Blanco" ? "bg-white" : 
							casa.color === "ğŸŸ¨ Amarillo" ? "bg-yellow-300" : 
							casa.color === "ğŸŸ¦ Azul" ? "bg-blue-300" : 
							"bg-gray-300"
						}`}>
							<p class="font-bold text-lg">Casa {index}</p>
							<Icon name="house" width="100" height="100"/>
							<ul>
								<li>- {casa.nacionalidad}</li>
								<li>- {casa.mascota}</li>
								<li>- {casa.bebida}</li>
								<li>- {casa.cigarro}</li>
							</ul>
						</div>
					))
				}
			</div>
		</div>
	</section>


	<script>
		const togglePista = (posicion: number) => {
			const boton = document.getElementById(`boton-pista-${posicion}`);
			const textoPista = document.getElementById(`texto-pista-${posicion}`);
			const checkIcon = document.getElementById(`estado-${posicion}`);
			if (!textoPista || !checkIcon || !boton) return;
			textoPista.classList.toggle('line-through');
			textoPista.classList.toggle('opacity-50');
			const isChecked = textoPista.classList.contains('line-through');
			if (isChecked) {
				checkIcon.innerHTML = 'X';
			} else {
				checkIcon.innerHTML = 'âœ“';
			}
			const bgColor = isChecked ? 'bg-red-300 hover:bg-red-400' : 'bg-green-300 hover:bg-green-400';
			boton.classList.remove('bg-red-300', 'hover:bg-red-400', 'bg-green-300', 'hover:bg-green-400');
			boton.classList.add(...bgColor.split(' '));
		};
		(window as any).togglePista = togglePista;
	</script>
</Layout>